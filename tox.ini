
[tox]
envlist = clean,{py36,py37,py38},report
skipsdist = true
skip_missing_interpreters = true

[testenv]
deps = -r requirements.txt
commands = pytest --junitxml=junit-{envname}.xml --cov chapter10 --cov-report term-missing --cov-append
depends =
    {py36,py37,py38}: clean
    report: py36,py37,py38

[testenv:report]
deps = coverage
skip_install = true
commands =
    coverage report
    coverage html

[testenv:clean]
deps = coverage
skip_install = true
commands = coverage erase

[pytest]
junit_family=legacy
